(()=>{"use strict";var t={d:(e,i)=>{for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function i(){var t;return void 0!==window.analytics&&void 0!==(null===(t=window.analytics)||void 0===t?void 0:t.initialize)}t.r(e),t.d(e,{default:()=>n});class n{constructor(t){t&&function(t){const e=window.analytics=window.analytics||[];if(!e.initialize)if(e.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"],e.factory=function(t){return function(...i){const n=Array.prototype.slice.call(i);return n.unshift(t),e.push(n),e}};for(let t=0;t<e.methods.length;t+=1){const i=e.methods[t];e[i]=e.factory(i)}e.load=function(t,i){var n;const a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=`https://cdn.segment.com/analytics.js/v1/${t}/analytics.min.js`;const o=document.getElementsByTagName("script")[0];null===(n=o.parentNode)||void 0===n||n.insertBefore(a,o),e._loadOptions=i},e.SNIPPET_VERSION="4.1.0",e.load(t)}}(t),this.analytics=window.analytics,this.initialized=i(),this.initialized||"undefined"==typeof window||(this.statusInterval=window.setInterval(this.updateInitializedStatus,1e3),console.log("statusInterval",this.statusInterval))}set setAccountId(t){this.accountId=t}augmentProperties(t){return this.accountId?Object.assign(Object.assign({},t),{url:window.location.href,accountId:this.accountId}):Object.assign(Object.assign({},t),{url:window.location.href})}updateInitializedStatus(){console.log(this.initialized,this.statusInterval,window.analytics,i()),i()&&(console.log("here"),this.initialized=!0,this.analytics=window.analytics,clearInterval(this.statusInterval))}checkInitialized(){return console.log(this.initialized,window.analytics),!!this.initialized||(console.error("The telemetry package needs to be initialized before calling analytics methods"),!1)}identify(t){this.checkInitialized()&&this.analytics.identify(t,null,{},{})}track(t){if(this.checkInitialized()){const{event:e,properties:i}=t,n=this.augmentProperties(i);this.analytics.track(e,n,{},{})}}page(t){if(this.checkInitialized()){const{name:e,category:i,properties:n}=t,a=this.augmentProperties(n);this.analytics.page(i,e,a,{},{})}}}var a=exports;for(var o in e)a[o]=e[o];e.__esModule&&Object.defineProperty(a,"__esModule",{value:!0})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ad2luZ3Mtc29mdHdhcmUvdGVsZW1ldHJ5L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0B3aW5ncy1zb2Z0d2FyZS90ZWxlbWV0cnkvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL0B3aW5ncy1zb2Z0d2FyZS90ZWxlbWV0cnkvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9Ad2luZ3Mtc29mdHdhcmUvdGVsZW1ldHJ5L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vQHdpbmdzLXNvZnR3YXJlL3RlbGVtZXRyeS8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9Ad2luZ3Mtc29mdHdhcmUvdGVsZW1ldHJ5Ly4vc3JjL2FuYWx5dGljcy50cyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJpc0luaXRpYWxpemVkIiwid2luZG93IiwiYW5hbHl0aWNzIiwiaW5pdGlhbGl6ZSIsIlRlbGVtZXRyeSIsInNvdXJjZUtleSIsImludm9rZWQiLCJjb25zb2xlIiwiZXJyb3IiLCJtZXRob2RzIiwiZmFjdG9yeSIsIm1ldGhvZCIsImZ1bmN0aW9uQXJncyIsImFyZ3MiLCJBcnJheSIsInNsaWNlIiwidW5zaGlmdCIsInB1c2giLCJpIiwibGVuZ3RoIiwibG9hZCIsIm9wdGlvbnMiLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiYXN5bmMiLCJzcmMiLCJmaXJzdCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsIl9sb2FkT3B0aW9ucyIsIlNOSVBQRVRfVkVSU0lPTiIsImluaXRpYWxpemVBbmFseXRpY3MiLCJ0aGlzIiwiaW5pdGlhbGl6ZWQiLCJzdGF0dXNJbnRlcnZhbCIsInNldEludGVydmFsIiwidXBkYXRlSW5pdGlhbGl6ZWRTdGF0dXMiLCJsb2ciLCJpZCIsImFjY291bnRJZCIsInByb3BlcnRpZXMiLCJ1cmwiLCJsb2NhdGlvbiIsImhyZWYiLCJjbGVhckludGVydmFsIiwidXNlcklkIiwiY2hlY2tJbml0aWFsaXplZCIsImlkZW50aWZ5IiwidHJhY2siLCJldmVudCIsImF1Z21lbnRlZFByb3BlcnRpZXMiLCJhdWdtZW50UHJvcGVydGllcyIsInBhZ2UiLCJuYW1lIiwiY2F0ZWdvcnkiXSwibWFwcGluZ3MiOiJtQkFDQSxJQUFJQSxFQUFzQixDQ0ExQixFQUF3QixDQUFDQyxFQUFTQyxLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hGLEVBQW9CSSxFQUFFRixFQUFZQyxLQUFTSCxFQUFvQkksRUFBRUgsRUFBU0UsSUFDNUVFLE9BQU9DLGVBQWVMLEVBQVNFLEVBQUssQ0FBRUksWUFBWSxFQUFNQyxJQUFLTixFQUFXQyxNQ0ozRSxFQUF3QixDQUFDTSxFQUFLQyxJQUFVTCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLSixFQUFLQyxHQ0NsRixFQUF5QlQsSUFDSCxvQkFBWGEsUUFBMEJBLE9BQU9DLGFBQzFDVixPQUFPQyxlQUFlTCxFQUFTYSxPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RYLE9BQU9DLGVBQWVMLEVBQVMsYUFBYyxDQUFFZSxPQUFPLE0sS0NPdkQsU0FBU0MsSSxNQUNQLFlBQW1DLElBQXJCQyxPQUFPQyxnQkFBcUUsS0FBakIsUUFBaEIsRUFBQUQsT0FBT0MsaUJBQVMsZUFBRUMsWSw4QkFHOUQsTUFBTUMsRUFNbkIsWUFBWUMsR0FDTkEsR0NkTyxTQUE2QkEsR0FDMUMsTUFBTUgsRUFBYUQsT0FBT0Ms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cXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgVHJhY2sgZnJvbSAnLi90eXBlcy9UcmFjaydcbmltcG9ydCBQYWdlIGZyb20gJy4vdHlwZXMvUGFnZSdcblxuaW1wb3J0IGluaXRpYWxpemVBbmFseXRpY3MgZnJvbSAnLi9hbmFseXRpY3MnXG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBhbmFseXRpY3M6IGFueVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzSW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93LmFuYWx5dGljcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5hbmFseXRpY3M/LmluaXRpYWxpemUgIT09ICd1bmRlZmluZWQnXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlbGVtZXRyeSB7XG4gIGFuYWx5dGljczogV2luZG93WydhbmFseXRpY3MnXVxuICBhY2NvdW50SWQ/OiBzdHJpbmdcbiAgaW5pdGlhbGl6ZWQ6IGJvb2xlYW5cbiAgc3RhdHVzSW50ZXJ2YWw/OiBudW1iZXJcblxuICBjb25zdHJ1Y3Rvcihzb3VyY2VLZXk/OiBzdHJpbmcpIHtcbiAgICBpZiAoc291cmNlS2V5KSB7XG4gICAgICBpbml0aWFsaXplQW5hbHl0aWNzKHNvdXJjZUtleSlcbiAgICB9XG5cbiAgICB0aGlzLmFuYWx5dGljcyA9IHdpbmRvdy5hbmFseXRpY3NcbiAgICB0aGlzLmluaXRpYWxpemVkID0gaXNJbml0aWFsaXplZCgpXG5cbiAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuc3RhdHVzSW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy51cGRhdGVJbml0aWFsaXplZFN0YXR1cywgMTAwMClcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLmxvZygnc3RhdHVzSW50ZXJ2YWwnLCB0aGlzLnN0YXR1c0ludGVydmFsKVxuICAgIH1cbiAgfVxuXG4gIHNldCBzZXRBY2NvdW50SWQoaWQ6IHN0cmluZykge1xuICAgIHRoaXMuYWNjb3VudElkID0gaWRcbiAgfVxuXG4gIGF1Z21lbnRQcm9wZXJ0aWVzKHByb3BlcnRpZXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0pOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9IHtcbiAgICBpZiAodGhpcy5hY2NvdW50SWQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByb3BlcnRpZXMsXG4gICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgIGFjY291bnRJZDogdGhpcy5hY2NvdW50SWRcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4ucHJvcGVydGllcyxcbiAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWZcbiAgICB9XG4gIH1cblxuICB1cGRhdGVJbml0aWFsaXplZFN0YXR1cygpOiB2b2lkIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUubG9nKHRoaXMuaW5pdGlhbGl6ZWQsIHRoaXMuc3RhdHVzSW50ZXJ2YWwsIHdpbmRvdy5hbmFseXRpY3MsIGlzSW5pdGlhbGl6ZWQoKSlcbiAgICBpZiAoaXNJbml0aWFsaXplZCgpKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS5sb2coJ2hlcmUnKVxuICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWVcbiAgICAgIHRoaXMuYW5hbHl0aWNzID0gd2luZG93LmFuYWx5dGljc1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnN0YXR1c0ludGVydmFsKVxuICAgIH1cbiAgfVxuXG4gIGNoZWNrSW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLmxvZyh0aGlzLmluaXRpYWxpemVkLCB3aW5kb3cuYW5hbHl0aWNzKVxuICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS5lcnJvcignVGhlIHRlbGVtZXRyeSBwYWNrYWdlIG5lZWRzIHRvIGJlIGluaXRpYWxpemVkIGJlZm9yZSBjYWxsaW5nIGFuYWx5dGljcyBtZXRob2RzJylcblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgaWRlbnRpZnkodXNlcklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jaGVja0luaXRpYWxpemVkKCkpIHtcbiAgICAgIHRoaXMuYW5hbHl0aWNzLmlkZW50aWZ5KHVzZXJJZCwgbnVsbCwge30sIHt9KVxuICAgIH1cbiAgfVxuXG4gIHRyYWNrKHRyYWNrOiBUcmFjayk6IHZvaWQge1xuICAgIGlmICh0aGlzLmNoZWNrSW5pdGlhbGl6ZWQoKSkge1xuICAgICAgY29uc3QgeyBldmVudCwgcHJvcGVydGllcyB9ID0gdHJhY2tcblxuICAgICAgY29uc3QgYXVnbWVudGVkUHJvcGVydGllcyA9IHRoaXMuYXVnbWVudFByb3BlcnRpZXMocHJvcGVydGllcylcblxuICAgICAgdGhpcy5hbmFseXRpY3MudHJhY2soZXZlbnQsIGF1Z21lbnRlZFByb3BlcnRpZXMsIHt9LCB7fSlcbiAgICB9XG4gIH1cblxuICBwYWdlKHBhZ2U6IFBhZ2UpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jaGVja0luaXRpYWxpemVkKCkpIHtcbiAgICAgIGNvbnN0IHsgbmFtZSwgY2F0ZWdvcnksIHByb3BlcnRpZXMgfSA9IHBhZ2VcblxuICAgICAgY29uc3QgYXVnbWVudGVkUHJvcGVydGllcyA9IHRoaXMuYXVnbWVudFByb3BlcnRpZXMocHJvcGVydGllcylcblxuICAgICAgdGhpcy5hbmFseXRpY3MucGFnZShjYXRlZ29yeSwgbmFtZSwgYXVnbWVudGVkUHJvcGVydGllcywge30sIHt9KVxuICAgIH1cbiAgfVxufVxuIiwiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIGFuYWx5dGljczogYW55XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZUFuYWx5dGljcyhzb3VyY2VLZXk6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBhbmFseXRpY3MgPSAod2luZG93LmFuYWx5dGljcyA9IHdpbmRvdy5hbmFseXRpY3MgfHwgW10pXG5cbiAgLy8gSWYgdGhlIHJlYWwgYW5hbHl0aWNzLmpzIGlzIGFscmVhZHkgb24gdGhlIHBhZ2UgcmV0dXJuLlxuICBpZiAoYW5hbHl0aWNzLmluaXRpYWxpemUpIHJldHVyblxuXG4gIC8vIElmIHRoZSBzbmlwcGV0IHdhcyBpbnZva2VkIGFscmVhZHkgc2hvdyBhbiBlcnJvci5cbiAgaWYgKGFuYWx5dGljcy5pbnZva2VkKSB7XG4gICAgaWYgKHdpbmRvdy5jb25zb2xlICYmIGNvbnNvbGUuZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1NlZ21lbnQgc25pcHBldCBpbmNsdWRlZCB0d2ljZS4nKVxuICAgIH1cbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIEludm9rZWQgZmxhZywgdG8gbWFrZSBzdXJlIHRoZSBzbmlwcGV0XG4gIC8vIGlzIG5ldmVyIGludm9rZWQgdHdpY2UuXG4gIGFuYWx5dGljcy5pbnZva2VkID0gdHJ1ZVxuXG4gIC8vIEEgbGlzdCBvZiB0aGUgbWV0aG9kcyBpbiBBbmFseXRpY3MuanMgdG8gc3R1Yi5cbiAgYW5hbHl0aWNzLm1ldGhvZHMgPSBbXG4gICAgJ3RyYWNrU3VibWl0JyxcbiAgICAndHJhY2tDbGljaycsXG4gICAgJ3RyYWNrTGluaycsXG4gICAgJ3RyYWNrRm9ybScsXG4gICAgJ3BhZ2V2aWV3JyxcbiAgICAnaWRlbnRpZnknLFxuICAgICdyZXNldCcsXG4gICAgJ2dyb3VwJyxcbiAgICAndHJhY2snLFxuICAgICdyZWFkeScsXG4gICAgJ2FsaWFzJyxcbiAgICAnZGVidWcnLFxuICAgICdwYWdlJyxcbiAgICAnb25jZScsXG4gICAgJ29mZicsXG4gICAgJ29uJyxcbiAgICAnYWRkU291cmNlTWlkZGxld2FyZScsXG4gICAgJ2FkZEludGVncmF0aW9uTWlkZGxld2FyZScsXG4gICAgJ3NldEFub255bW91c0lkJyxcbiAgICAnYWRkRGVzdGluYXRpb25NaWRkbGV3YXJlJ1xuICBdXG5cbiAgLy8gRGVmaW5lIGEgZmFjdG9yeSB0byBjcmVhdGUgc3R1YnMuIFRoZXNlIGFyZSBwbGFjZWhvbGRlcnNcbiAgLy8gZm9yIG1ldGhvZHMgaW4gQW5hbHl0aWNzLmpzIHNvIHRoYXQgeW91IG5ldmVyIGhhdmUgdG8gd2FpdFxuICAvLyBmb3IgaXQgdG8gbG9hZCB0byBhY3R1YWxseSByZWNvcmQgZGF0YS4gVGhlIGBtZXRob2RgIGlzXG4gIC8vIHN0b3JlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQsIHNvIHdlIGNhbiByZXBsYXkgdGhlIGRhdGEuXG4gIGFuYWx5dGljcy5mYWN0b3J5ID0gZnVuY3Rpb24gKG1ldGhvZDogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5mdW5jdGlvbkFyZ3M6IGFueVtdKSB7XG4gICAgICBjb25zdCBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnVuY3Rpb25BcmdzKVxuICAgICAgYXJncy51bnNoaWZ0KG1ldGhvZClcbiAgICAgIGFuYWx5dGljcy5wdXNoKGFyZ3MpXG4gICAgICByZXR1cm4gYW5hbHl0aWNzXG4gICAgfVxuICB9XG5cbiAgLy8gRm9yIGVhY2ggb2Ygb3VyIG1ldGhvZHMsIGdlbmVyYXRlIGEgcXVldWVpbmcgc3R1Yi5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbmFseXRpY3MubWV0aG9kcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGtleSA9IGFuYWx5dGljcy5tZXRob2RzW2ldXG4gICAgYW5hbHl0aWNzW2tleV0gPSBhbmFseXRpY3MuZmFjdG9yeShrZXkpXG4gIH1cblxuICAvLyBEZWZpbmUgYSBtZXRob2QgdG8gbG9hZCBBbmFseXRpY3MuanMgZnJvbSBvdXIgQ0ROLFxuICAvLyBhbmQgdGhhdCB3aWxsIGJlIHN1cmUgdG8gb25seSBldmVyIGxvYWQgaXQgb25jZS5cbiAgYW5hbHl0aWNzLmxvYWQgPSBmdW5jdGlvbiAoa2V5OiBhbnksIG9wdGlvbnM6IGFueSkge1xuICAgIC8vIENyZWF0ZSBhbiBhc3luYyBzY3JpcHQgZWxlbWVudCBiYXNlZCBvbiB5b3VyIGtleS5cbiAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKVxuICAgIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCdcbiAgICBzY3JpcHQuYXN5bmMgPSB0cnVlXG4gICAgc2NyaXB0LnNyYyA9IGBodHRwczovL2Nkbi5zZWdtZW50LmNvbS9hbmFseXRpY3MuanMvdjEvJHtrZXl9L2FuYWx5dGljcy5taW4uanNgXG5cbiAgICAvLyBJbnNlcnQgb3VyIHNjcmlwdCBuZXh0IHRvIHRoZSBmaXJzdCBzY3JpcHQgZWxlbWVudC5cbiAgICBjb25zdCBmaXJzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXVxuICAgIGZpcnN0LnBhcmVudE5vZGU/Lmluc2VydEJlZm9yZShzY3JpcHQsIGZpcnN0KVxuICAgIGFuYWx5dGljcy5fbG9hZE9wdGlvbnMgPSBvcHRpb25zXG4gIH1cblxuICAvLyBBZGQgYSB2ZXJzaW9uIHRvIGtlZXAgdHJhY2sgb2Ygd2hhdCdzIGluIHRoZSB3aWxkLlxuICBhbmFseXRpY3MuU05JUFBFVF9WRVJTSU9OID0gJzQuMS4wJ1xuXG4gIC8vIExvYWQgQW5hbHl0aWNzLmpzIHdpdGggeW91ciBrZXksIHdoaWNoIHdpbGwgYXV0b21hdGljYWxseVxuICAvLyBsb2FkIHRoZSB0b29scyB5b3UndmUgZW5hYmxlZCBmb3IgeW91ciBhY2NvdW50LiBCb29zaCFcbiAgYW5hbHl0aWNzLmxvYWQoc291cmNlS2V5KVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==